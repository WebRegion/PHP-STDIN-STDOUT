Скрипт показываем механизм работы PHP через консоль в batch-режиме.

Принцип работы:
если имеется информация о стоимости квадратного метра запрошенного региона и интервала площадей — возвращается её произведение на площадь объекта, если для данного региона и интервала площадей цен нет — берутся данные ближайшего родительского региона. Если по дереву регионов до страны (parentId = 0) — нет данных по стоимости квадратного метра для данного интервала площадей — возвращается false.

1) В режиме консоли программа должна работать так:
:~> php cost.php 1,50
250000


2) В пакетном режиме так:

:~> cat cost.txt
1,50
5,50
2,101
7,1001
:~> cat cost.txt|php cost.php
250000
500000
808000
false

